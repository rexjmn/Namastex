Enter your prompt here

# Project Files

- c:\wamp64\www\symfony_firstPro\test_symfony\assets\app.js
- c:\wamp64\www\symfony_firstPro\test_symfony\migrations\Version20250521150700.php
- c:\wamp64\www\symfony_firstPro\test_symfony\src\Form\ArticleForm.php
- c:\wamp64\www\symfony_firstPro\test_symfony\templates\home\index.html.twig
- c:\wamp64\www\symfony_firstPro\test_symfony\templates\about\index.html.twig
- c:\wamp64\www\symfony_firstPro\test_symfony\templates\registration\register.html.twig
- c:\wamp64\www\symfony_firstPro\test_symfony\templates\security\login.html.twig
- c:\wamp64\www\symfony_firstPro\test_symfony\config\packages\security.yaml
- c:\wamp64\www\symfony_firstPro\test_symfony\src\Command\CreateSuperAdminCommand.php
- c:\wamp64\www\symfony_firstPro\test_symfony\src\Controller\RegistrationController.php
- c:\wamp64\www\symfony_firstPro\test_symfony\src\Controller\SecurityController.php
- c:\wamp64\www\symfony_firstPro\test_symfony\src\Entity\User.php
- c:\wamp64\www\symfony_firstPro\test_symfony\src\Form\RegistrationForm.php
- c:\wamp64\www\symfony_firstPro\test_symfony\templates\home\show.html.twig
- c:\wamp64\www\symfony_firstPro\test_symfony\templates\base.html.twig
- c:\wamp64\www\symfony_firstPro\test_symfony\templates\partials\header.html.twig
- c:\wamp64\www\symfony_firstPro\test_symfony\src\Controller\HomeController.php
- c:\wamp64\www\symfony_firstPro\test_symfony\src\Controller\UserAdminController.php
- c:\wamp64\www\symfony_firstPro\test_symfony\.env
- c:\wamp64\www\symfony_firstPro\test_symfony\templates\user_admin\index.html.twig
- c:\wamp64\www\symfony_firstPro\test_symfony\templates\home\admin_dashboard.html.twig
- c:\wamp64\www\symfony_firstPro\test_symfony\templates\home\my_articles.html.twig
- c:\wamp64\www\symfony_firstPro\test_symfony\config\packages\knp_paginator.yaml
- c:\wamp64\www\symfony_firstPro\test_symfony\src\Service\fileUploader.php
- c:\wamp64\www\symfony_firstPro\test_symfony\src\Entity\Article.php
- c:\wamp64\www\symfony_firstPro\test_symfony\config\services.yaml
- c:\wamp64\www\symfony_firstPro\test_symfony\templates\home\edit.html.twig
- c:\wamp64\www\symfony_firstPro\test_symfony\templates\home\new.html.twig
- c:\wamp64\www\symfony_firstPro\test_symfony\src\Repository\ArticleRepository.php
- c:\wamp64\www\symfony_firstPro\test_symfony\vendor\symfony\ux-turbo\assets\package.json
- c:\wamp64\www\symfony_firstPro\test_symfony\vendor\symfony\stimulus-bundle\assets\package.json

## c:\wamp64\www\symfony_firstPro\test_symfony\assets\app.js
```
import './bootstrap.js';
import { Turbo } from '@hotwired/turbo';
Turbo.session.drive = false; // Desactivar Turbo
/*
 * Welcome to your app's main JavaScript file!
 *
 * This file will be included onto the page via the importmap() Twig function,
 * which should already be in your base.html.twig.
 */
import './styles/app.css';

console.log('This log comes from assets/app.js - welcome to AssetMapper! üéâ');

```

## c:\wamp64\www\symfony_firstPro\test_symfony\migrations\Version20250521150700.php
```

```

## c:\wamp64\www\symfony_firstPro\test_symfony\src\Form\ArticleForm.php
```
<?php

namespace App\Form;

use App\Entity\Article;
use Symfony\Component\Form\AbstractType;
use Symfony\Component\Form\Extension\Core\Type\FileType;
use Symfony\Component\Form\FormBuilderInterface;
use Symfony\Component\OptionsResolver\OptionsResolver;
use Symfony\Component\Validator\Constraints\File;


class ArticleForm extends AbstractType
{
    public function buildForm(FormBuilderInterface $builder, array $options): void
    {
        $builder
            ->add('content')
            ->add('title')
            ->add('imageFile', FileType::class, [
                'label' => 'Image de l\'article',
                'mapped' => false, // No mapeado directamente a la entidad
                'required' => false,
                'constraints' => [
                    new File([
                        'maxSize' => '2M',
                        'mimeTypes' => [
                            'image/jpeg',
                            'image/png',
                            'image/gif',
                        ],
                        'mimeTypesMessage' => 'Veuillez t√©l√©charger une image valide (JPEG, PNG ou GIF)',
                    ])
                ],
            ])
        ;
    }

    public function configureOptions(OptionsResolver $resolver): void
    {
        $resolver->setDefaults([
            'data_class' => Article::class,
        ]);
    }
}

```

## c:\wamp64\www\symfony_firstPro\test_symfony\templates\home\index.html.twig
```
{% extends 'base.html.twig' %}

{% block title %}Accueil - Liste d'articles{% endblock %}

{% block body %}
<div style="max-width: 1200px; margin: 0 auto; padding: 0 20px;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
        <h1 style="margin: 0; font-size: 32px; color: #333;">Articles</h1>
        <a href="{{ path('app_article_new') }}" style="background-color: #4CAF50; color: white; padding: 10px 15px; border-radius: 5px; text-decoration: none; display: inline-flex; align-items: center; gap: 5px;">
            <i class="fas fa-plus"></i>
            Cr√©er un nouvel article
        </a>
    </div>

    {% for label, messages in app.flashes %}
        {% for message in messages %}
            <div style="background-color: {% if label == 'success' %}#DFF2BF; color: #4F8A10{% elseif label == 'error' %}#FFECEC; color: #C83025{% else %}#BDE5F8; color: #00529B{% endif %}; padding: 15px; margin-bottom: 20px; border-radius: 5px; border-left: 5px solid {% if label == 'success' %}#4F8A10{% elseif label == 'error' %}#C83025{% else %}#00529B{% endif %};">
                {{ message }}
            </div>
        {% endfor %}
    {% endfor %}

    {% if articles is empty %}
        <div style="background-color: #BDE5F8; color: #00529B; padding: 15px; margin-bottom: 20px; border-radius: 5px; border-left: 5px solid #00529B;">
            Aucun article disponible pour le moment.
        </div>
    {% else %}
        <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 30px;">
            {% for article in articles %}
                <div style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; box-shadow: 0 4px 6px rgba(0,0,0,0.1); transition: transform 0.3s ease; background-color: white;">
                    <div style="padding: 20px;">
                        <h2 style="font-size: 22px; margin-top: 0; margin-bottom: 10px;">{{ article.title }}</h2>
                        <p style="color: #666; font-size: 14px; margin-bottom: 15px;">
                            Par <strong>{{ article.author.username }}</strong> le {{ article.createdAt|date('d/m/Y √† H:i') }}
                        </p>
                        {% if article.imageFilename %}
                            <div style="height: 200px; overflow: hidden; margin-bottom: 15px;">
                                <img src="{{ asset('uploads/' ~ article.imageFilename) }}" alt="{{ article.title }}" style="width: 100%; height: 100%; object-fit: cover; border-radius: 4px 4px 0 0;">
                            </div>
                        {% endif %}
                        <p style="margin-bottom: 20px; line-height: 1.5;">
                            {% if article.content|length > 100 %}
                                {{ article.content|slice(0, 100) }}...
                            {% else %}
                                {{ article.content }}
                            {% endif %}
                        </p>
                    </div>
                    <div style="display: flex; justify-content: space-between; padding: 15px 20px; border-top: 1px solid #eee;">
                        <a href="{{ path('app_article_show', {'id': article.id}) }}" style="color: #3498db; text-decoration: none; font-weight: 500;">
                            Lire
                        </a>
                        <div style="display: flex; gap: 10px;">
                            {% if is_granted('ROLE_ADMIN') or (app.user and app.user == article.author) %}
                                <a href="{{ path('app_article_edit', {'id': article.id}) }}" style="color: #f39c12; text-decoration: none;">
                                    <i class="fas fa-edit"></i>
                                    Modifier
                                </a>
                                <a href="{{ path('app_article_delete', {'id': article.id}) }}" style="color: #e74c3c; text-decoration: none;" onclick="return confirm('√ätes-vous s√ªr de vouloir supprimer cet article ?')">
                                    <i class="fas fa-trash"></i>
                                    Supprimer
                                </a>
                            {% endif %}
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% endif %}
</div>
{% endblock %}
```

## c:\wamp64\www\symfony_firstPro\test_symfony\templates\about\index.html.twig
```
{% extends 'base.html.twig' %}

{% block title %}Hello AboutController!{% endblock %}

{% block body %}
<h1>About</h1>
{% endblock %}
```

## c:\wamp64\www\symfony_firstPro\test_symfony\templates\registration\register.html.twig
```

{% extends 'base.html.twig' %}

{% block title %}Inscription{% endblock %}

{% block body %}
<div style="max-width: 600px; margin: 50px auto; padding: 20px; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); background-color: white;">
    <div style="text-align: center; margin-bottom: 30px;">
        <h1 style="font-size: 28px; color: #2ecc71; margin-bottom: 10px;">Inscription</h1>
        <p style="color: #666; font-size: 16px;">Cr√©ez votre compte pour acc√©der √† toutes les fonctionnalit√©s</p>
    </div>

    {{ form_errors(registrationForm) }}

    {{ form_start(registrationForm) }}
        <div style="margin-bottom: 20px;">
            {{ form_label(registrationForm.email, 'Email', {'label_attr': {'style': 'display: block; margin-bottom: 8px; font-weight: bold;'}}) }}
            {{ form_widget(registrationForm.email, {
                'attr': {
                    'style': 'width: 95%; padding: 10px; border: 2px solid #2ecc71; border-radius: 4px; font-size: 16px;',
                    'placeholder': 'Entrez votre adresse email'
                }
            }) }}
            {{ form_errors(registrationForm.email) }}
        </div>

        <div style="margin-bottom: 20px;">
            {{ form_label(registrationForm.username, 'Nom d\'utilisateur', {'label_attr': {'style': 'display: block; margin-bottom: 8px; font-weight: bold;'}}) }}
            {{ form_widget(registrationForm.username, {
                'attr': {
                    'style': 'width: 95%; padding: 10px; border: 2px solid #2ecc71; border-radius: 4px; font-size: 16px;',
                    'placeholder': 'Entrez votre nom d\'utilisateur'
                }
            }) }}
            {{ form_errors(registrationForm.username) }}
        </div>

        <div style="margin-bottom: 20px;">
            {{ form_label(registrationForm.plainPassword, 'Mot de passe', {'label_attr': {'style': 'display: block; margin-bottom: 8px; font-weight: bold;'}}) }}
            {{ form_widget(registrationForm.plainPassword, {
                'attr': {
                    'style': 'width: 95%; padding: 10px; border: 2px solid #2ecc71; border-radius: 4px; font-size: 16px;',
                    'placeholder': 'Choisissez un mot de passe s√©curis√©'
                }
            }) }}
            {{ form_errors(registrationForm.plainPassword) }}
        </div>

        <div style="margin-bottom: 20px;">
            <div style="display: flex; align-items: center;">
                {{ form_widget(registrationForm.agreeTerms, {'attr': {'style': 'margin-right: 10px;'}}) }}
                {{ form_label(registrationForm.agreeTerms, 'J\'accepte les conditions d\'utilisation', {'label_attr': {'style': 'margin: 0;'}}) }}
            </div>
            {{ form_errors(registrationForm.agreeTerms) }}
        </div>

        <button type="submit" style="width: 100%; background-color: #2ecc71; color: white; padding: 12px; border: none; border-radius: 4px; cursor: pointer; font-weight: bold; font-size: 16px;">
            <i class="fas fa-user-plus"></i> S'inscrire
        </button>
    {{ form_end(registrationForm) }}

    <div style="margin-top: 20px; text-align: center;">
        <p style="color: #666;">Vous avez d√©j√† un compte ? <a href="{{ path('app_login') }}" style="color: #2ecc71; text-decoration: none; font-weight: 500;">Connectez-vous</a></p>
    </div>
</div>
{% endblock %}
```

## c:\wamp64\www\symfony_firstPro\test_symfony\templates\security\login.html.twig
```
{% extends 'base.html.twig' %}

{% block title %}Connexion{% endblock %}

{% block body %}
<div style="max-width: 600px; margin: 50px auto; padding: 20px; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); background-color: white;">
    <div style="text-align: center; margin-bottom: 30px;">
        <h1 style="font-size: 28px; color: #3498db; margin-bottom: 10px;">Connexion</h1>
        <p style="color: #666; font-size: 16px;">Connectez-vous pour acc√©der √† votre compte</p>
    </div>

    {% if error %}
        <div style="background-color: #FFECEC; color: #C83025; padding: 15px; margin-bottom: 20px; border-radius: 5px; border-left: 5px solid #C83025;">
            {{ error.messageKey|trans(error.messageData, 'security') }}
        </div>
    {% endif %}

    <form method="post">
        {% if app.user %}
            <div style="background-color: #DFF2BF; color: #4F8A10; padding: 15px; margin-bottom: 20px; border-radius: 5px; border-left: 5px solid #4F8A10;">
                Vous √™tes connect√© en tant que {{ app.user.userIdentifier }}, <a href="{{ path('app_logout') }}" style="color: #3498db;">D√©connexion</a>
            </div>
        {% endif %}

        <div style="margin-bottom: 20px;">
            <label for="inputEmail" style="display: block; margin-bottom: 8px; font-weight: bold;">Email</label>
            <input type="email" value="{{ last_username }}" name="email" id="inputEmail" class="form-control" autocomplete="email" required autofocus style="width: 95%; padding: 10px; border: 2px solid #3498db; border-radius: 4px; font-size: 16px;">
        </div>

        <div style="margin-bottom: 20px;">
            <label for="inputPassword" style="display: block; margin-bottom: 8px; font-weight: bold;">Mot de passe</label>
            <input type="password" name="password" id="inputPassword" class="form-control" autocomplete="current-password" required style="width: 95%; padding: 10px; border: 2px solid #3498db; border-radius: 4px; font-size: 16px;">
        </div>

        <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">

        {# Remember me #}
        <div style="margin-bottom: 20px;">
            <div style="display: flex; align-items: center;">
                <input type="checkbox" id="remember_me" name="_remember_me" style="margin-right: 10px;">
                <label for="remember_me" style="margin: 0;">Se souvenir de moi</label>
            </div>
        </div>

        <button type="submit" style="width: 100%; background-color: #3498db; color: white; padding: 12px; border: none; border-radius: 4px; cursor: pointer; font-weight: bold; font-size: 16px;">
            <i class="fas fa-sign-in-alt"></i> Connexion
        </button>
    </form>

    <div style="margin-top: 20px; text-align: center;">
        <p style="color: #666;">Vous n'avez pas de compte ? <a href="{{ path('app_register') }}" style="color: #3498db; text-decoration: none; font-weight: 500;">Inscrivez-vous</a></p>
    </div>
</div>
{% endblock %}
```

## c:\wamp64\www\symfony_firstPro\test_symfony\config\packages\security.yaml
```
security:
    # https://symfony.com/doc/current/security.html#registering-the-user-hashing-passwords
    password_hashers:
        Symfony\Component\Security\Core\User\PasswordAuthenticatedUserInterface: 'auto'
    # https://symfony.com/doc/current/security.html#loading-the-user-the-user-provider
    providers:
        # used to reload user from session & other features (e.g. switch_user)
        app_user_provider:
            entity:
                class: App\Entity\User
                property: email
    firewalls:
        dev:
            pattern: ^/(_(profiler|wdt)|css|images|js)/
            security: false
        main:
            lazy: true
            provider: app_user_provider
            form_login:
                login_path: app_login
                check_path: app_login
                enable_csrf: true
            logout:
                path: app_logout
                # where to redirect after logout
                # target: app_any_route

            # activate different ways to authenticate
            # https://symfony.com/doc/current/security.html#the-firewall

            # https://symfony.com/doc/current/security/impersonating_user.html
            # switch_user: true
    
    # La jerarqu√≠a de roles debe estar aqu√≠, al mismo nivel que firewalls y access_control
    role_hierarchy:
        ROLE_ADMIN:       ROLE_USER
        ROLE_SUPER_ADMIN: [ROLE_ADMIN, ROLE_ALLOWED_TO_SWITCH]

    # Easy way to control access for large sections of your site
    # Note: Only the *first* access control that matches will be used
    access_control:
        - { path: ^/admin, roles: ROLE_ADMIN }
        - { path: ^/my-articles, roles: ROLE_USER }
        - { path: ^/article/new, roles: ROLE_USER }

when@test:
    security:
        password_hashers:
            # By default, password hashers are resource intensive and take time. This is
            # important to generate secure password hashes. In tests however, secure hashes
            # are not important, waste resources and increase test times. The following
            # reduces the work factor to the lowest possible values.
            Symfony\Component\Security\Core\User\PasswordAuthenticatedUserInterface:
                algorithm: auto
                cost: 4 # Lowest possible value for bcrypt
                time_cost: 3 # Lowest possible value for argon
                memory_cost: 10 # Lowest possible value for argon
```

## c:\wamp64\www\symfony_firstPro\test_symfony\src\Command\CreateSuperAdminCommand.php
```
<?php

namespace App\Command;

use App\Entity\User;
use Doctrine\ORM\EntityManagerInterface;
use Symfony\Component\Console\Attribute\AsCommand;
use Symfony\Component\Console\Command\Command;
use Symfony\Component\Console\Input\InputArgument;
use Symfony\Component\Console\Input\InputInterface;
use Symfony\Component\Console\Output\OutputInterface;
use Symfony\Component\Console\Style\SymfonyStyle;
use Symfony\Component\PasswordHasher\Hasher\UserPasswordHasherInterface;

#[AsCommand(
    name: 'app:create-super-admin',
    description: 'Crea un usuario super administrador',
)]
class CreateSuperAdminCommand extends Command
{
    public function __construct(
        private EntityManagerInterface $entityManager,
        private UserPasswordHasherInterface $passwordHasher
    ) {
        parent::__construct();
    }

    protected function configure(): void
    {
        $this
            ->addArgument('email', InputArgument::REQUIRED, 'Email del super administrador')
            ->addArgument('username', InputArgument::REQUIRED, 'Nombre de usuario')
            ->addArgument('password', InputArgument::REQUIRED, 'Contrase√±a');
    }

    protected function execute(InputInterface $input, OutputInterface $output): int
    {
        $io = new SymfonyStyle($input, $output);
        $email = $input->getArgument('email');
        $username = $input->getArgument('username');
        $password = $input->getArgument('password');

        $io->note(sprintf('On est en train de cr√©er un super administrateur: %s', $email));

        // Verificar si el usuario ya existe
        $existingUser = $this->entityManager->getRepository(User::class)->findOneBy(['email' => $email]);
        
        if ($existingUser) {
            $user = $existingUser;
            $io->note('Le super administrateur existe d√©j√†. On va mettre √† jour ses informations.');
        } else {
            $user = new User();
            $user->setEmail($email);
            $user->setUsername($username);
        }

        // Establecer la contrase√±a hasheada
        $hashedPassword = $this->passwordHasher->hashPassword($user, $password);
        $user->setPassword($hashedPassword);

        // Asignar el rol de super administrador
        $user->setRoles(['ROLE_SUPER_ADMIN']);

        if (!$existingUser) {
            $this->entityManager->persist($user);
        }
        
        $this->entityManager->flush();

        $io->success('Super administrateur cr√©e correctamente.');

        return Command::SUCCESS;
    }
}
```

## c:\wamp64\www\symfony_firstPro\test_symfony\src\Controller\RegistrationController.php
```
<?php

namespace App\Controller;

use App\Entity\User;
use App\Form\RegistrationForm;
use Doctrine\ORM\EntityManagerInterface;
use Symfony\Bundle\FrameworkBundle\Controller\AbstractController;
use Symfony\Component\HttpFoundation\Request;
use Symfony\Component\HttpFoundation\Response;
use Symfony\Component\PasswordHasher\Hasher\UserPasswordHasherInterface;
use Symfony\Component\Routing\Attribute\Route;

class RegistrationController extends AbstractController
{
    #[Route('/register', name: 'app_register')]
    public function register(Request $request, UserPasswordHasherInterface $userPasswordHasher, EntityManagerInterface $entityManager): Response
    {
        $user = new User();
        $form = $this->createForm(RegistrationForm::class, $user);
        $form->handleRequest($request);

        if ($form->isSubmitted() && $form->isValid()) {
            // encode the plain password
            $user->setPassword(
                $userPasswordHasher->hashPassword(
                    $user,
                    $form->get('plainPassword')->getData()
                )
            );

            $entityManager->persist($user);
            $entityManager->flush();

            $this->addFlash('success', 'Votre compte a √©t√© cr√©√© avec succ√®s !');

            return $this->redirectToRoute('app_login');
        }

        return $this->render('registration/register.html.twig', [
            'registrationForm' => $form->createView(),
        ]);
    }
}
```

## c:\wamp64\www\symfony_firstPro\test_symfony\src\Controller\SecurityController.php
```
<?php

namespace App\Controller;

use Symfony\Bundle\FrameworkBundle\Controller\AbstractController;
use Symfony\Component\HttpFoundation\Response;
use Symfony\Component\Routing\Attribute\Route;
use Symfony\Component\Security\Http\Authentication\AuthenticationUtils;

class SecurityController extends AbstractController
{
    #[Route(path: '/login', name: 'app_login')]
    public function login(AuthenticationUtils $authenticationUtils): Response
    {
        // get the login error if there is one
        $error = $authenticationUtils->getLastAuthenticationError();

        // last username entered by the user 
        $lastUsername = $authenticationUtils->getLastUsername();

        return $this->render('security/login.html.twig', [
            'last_username' => $lastUsername,
            'error' => $error,
        ]);
    }

    #[Route(path: '/logout', name: 'app_logout')]
    public function logout(): void
    {
        throw new \LogicException('This method can be blank - it will be intercepted by the logout key on your firewall.');
    }
}

```

## c:\wamp64\www\symfony_firstPro\test_symfony\src\Entity\User.php
```
<?php

namespace App\Entity;

use App\Repository\UserRepository;
use Doctrine\Common\Collections\ArrayCollection;
use Doctrine\Common\Collections\Collection;
use Doctrine\ORM\Mapping as ORM;
use Symfony\Bridge\Doctrine\Validator\Constraints\UniqueEntity;
use Symfony\Component\Security\Core\User\PasswordAuthenticatedUserInterface;
use Symfony\Component\Security\Core\User\UserInterface;


#[ORM\Entity(repositoryClass: UserRepository::class)]
#[UniqueEntity(fields: ['email'], message: 'There is already an account with this email')]
#[UniqueEntity(fields: ['username'], message: 'There is already an account with this username')]
class User implements UserInterface, PasswordAuthenticatedUserInterface
{
    #[ORM\Id]
    #[ORM\GeneratedValue]
    #[ORM\Column]
    private ?int $id = null;

    #[ORM\Column(length: 180)]
    private ?string $email = null;

    /**  
     * @var list<string> The user roles
     */
    #[ORM\Column]
    private array $roles = [];

    /**
     * @var string The hashed password
     */
    #[ORM\Column]
    private ?string $password = null;

    #[ORM\OneToMany(mappedBy: 'author', targetEntity: Article::class, orphanRemoval: true)]
    private Collection $articles;

    #[ORM\Column(length: 50, nullable: true)]
    private ?string $username = null;

    public function __construct()
    {
        $this->articles = new ArrayCollection();
        $this->roles = ['ROLE_USER']; // Por defecto, todos los usuarios tienen ROLE_USER
    }

    public function getId(): ?int
    {
        return $this->id;
    }

    public function getEmail(): ?string
    {
        return $this->email;
    }

    public function setEmail(string $email): static
    {
        $this->email = $email;

        return $this;
    }

    /**
     * A visual identifier that represents this user.
     *
     * @see UserInterface
     */
    public function getUserIdentifier(): string
    {
        return (string) $this->email;
    }

    /**
     * @see UserInterface
     */
    public function getRoles(): array
    {
        $roles = $this->roles;
        // guarantee every user at least has ROLE_USER
        $roles[] = 'ROLE_USER';

        return array_unique($roles);
    }

    /**
     * @param list<string> $roles
     */
    public function setRoles(array $roles): static
    {
        $this->roles = $roles;

        return $this;
    }

    /**
     * A√±ade un rol al usuario
     */
    public function addRole(string $role): static
    {
        if (!in_array($role, $this->roles)) {
            $this->roles[] = $role;
        }

        return $this;
    }

    /**
     * Comprueba si el usuario tiene un rol espec√≠fico
     */
    public function hasRole(string $role): bool
    {
        return in_array($role, $this->getRoles());
    }

    /**
     * @see PasswordAuthenticatedUserInterface
     */
    public function getPassword(): ?string
    {
        return $this->password;
    }

    public function setPassword(string $password): static
    {
        $this->password = $password;

        return $this;
    }

    /**
     * @see UserInterface
     */
    public function eraseCredentials(): void
    {
        // If you store any temporary, sensitive data on the user, clear it here
        // $this->plainPassword = null;
    }
public function getArticles(): Collection
    {
        return $this->articles;
    }

    public function addArticle(Article $article): self
    {
        if (!$this->articles->contains($article)) {
            $this->articles->add($article);
            $article->setAuthor($this);
        }

        return $this;
    }

    public function removeArticle(Article $article): self
    {
        if ($this->articles->removeElement($article)) {
            // set the owning side to null (unless already changed)
            if ($article->getAuthor() === $this) {
                $article->setAuthor(null);
            }
        }

        return $this;
    }

    public function getUsername(): ?string
    {
        return $this->username ?? $this->email;
    }

    public function setUsername(?string $username): self
    {
        $this->username = $username;

        return $this;
    }

    public function isSuperAdmin(): bool
    {
        return $this->hasRole('ROLE_SUPER_ADMIN');
    }

    public function isAdmin(): bool
    {
        return $this->hasRole('ROLE_ADMIN') || $this->hasRole('ROLE_SUPER_ADMIN');
    }
}

```

## c:\wamp64\www\symfony_firstPro\test_symfony\src\Form\RegistrationForm.php
```
<?php

namespace App\Form;

use App\Entity\User;
use Symfony\Component\Form\AbstractType;
use Symfony\Component\Form\Extension\Core\Type\CheckboxType;
use Symfony\Component\Form\Extension\Core\Type\PasswordType;
use Symfony\Component\Form\FormBuilderInterface;
use Symfony\Component\OptionsResolver\OptionsResolver;
use Symfony\Component\Validator\Constraints\IsTrue;
use Symfony\Component\Validator\Constraints\Length;
use Symfony\Component\Validator\Constraints\NotBlank;
use Symfony\Component\Form\Extension\Core\Type\TextType;
use Symfony\Component\Validator\Constraints\Email;
use Symfony\Component\Form\Extension\Core\Type\EmailType;

class RegistrationForm extends AbstractType
{
    public function buildForm(FormBuilderInterface $builder, array $options): void
    {
        $builder
            ->add('email', EmailType::class, [
                'constraints' => [
                    new NotBlank([
                        'message' => 'Por favor ingrese un correo electr√≥nico',
                    ]),
                    new Email([
                        'message' => 'El correo electr√≥nico no es v√°lido',
                    ]),
                ],
            ])
            ->add('username', TextType::class, [
                'label' => 'Nombre de usuario',
                'required' => true,
                'constraints' => [
                    new NotBlank([
                        'message' => 'Por favor ingrese un nombre de usuario',
                    ]),
                    new Length([
                        'min' => 3,
                        'minMessage' => 'Su nombre de usuario debe tener al menos {{ limit }} caracteres',
                        'max' => 50,
                        'maxMessage' => 'Su nombre de usuario no puede tener m√°s de {{ limit }} caracteres',
                    ]),
                ],
            ])
            ->add('agreeTerms', CheckboxType::class, [
                'mapped' => false,
                'constraints' => [
                    new IsTrue([
                        'message' => 'Debe aceptar los t√©rminos.',
                    ]),
                ],
            ])
          ->add('plainPassword', PasswordType::class, [
    // instead of being set onto the object directly,
    // this is read and encoded in the controller
    'mapped' => false,
    'attr' => ['autocomplete' => 'new-password'],
    'constraints' => [
        new NotBlank([
            'message' => 'Por favor ingrese una contrase√±a',
        ]),
        new Length([
            'min' => 6,
            'minMessage' => 'Su contrase√±a debe tener al menos {{ limit }} caracteres',
            // max length allowed by Symfony for security reasons
            'max' => 4096,
        ]),
    ],
])
        ;
    }
    

    public function configureOptions(OptionsResolver $resolver): void
    {
        $resolver->setDefaults([
            'data_class' => User::class,
        ]);
    }
}

```

## c:\wamp64\www\symfony_firstPro\test_symfony\templates\home\show.html.twig
```
{% extends 'base.html.twig' %}

{% block title %}
	{{ article.title }}
{% endblock %}

{% block body %}
	<div style="max-width: 800px; margin: 0 auto; padding: 20px;">
		<nav style="margin-bottom: 20px;">
			<div style="display: flex; gap: 5px; font-size: 14px;">
				<a href="{{ path('app_home') }}" style="color: #3498db; text-decoration: none;">Accueil</a>
				<span style="color: #777;">/</span>
				<span style="color: #333; font-weight: bold;">{{ article.title }}</span>
			</div>
		</nav>

		{% for label, messages in app.flashes %}
			{% for message in messages %}
				<div style="background-color: {% if label == 'success' %}#DFF2BF; color: #4F8A10{% elseif label == 'error' %}#FFECEC; color: #C83025{% else %}#BDE5F8; color: #00529B{% endif %}; padding: 15px; margin-bottom: 20px; border-radius: 5px; border-left: 5px solid {% if label == 'success' %}#4F8A10{% elseif label == 'error' %}#C83025{% else %}#00529B{% endif %};">
					{{ message }}
				</div>
			{% endfor %}
		{% endfor %}

		<article style="background-color: white; border-radius: 8px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); overflow: hidden;">
			<header style="padding: 30px 30px 20px 30px; border-bottom: 1px solid #eee;">
				<h1 style="margin-top: 0; margin-bottom: 10px; font-size: 28px; color: #333;">{{ article.title }}</h1>
				<div style="display: flex; align-items: center; color: #666; font-size: 14px;">
					<div style="display: flex; align-items: center; margin-right: 20px;">
						<i class="fas fa-user-circle" style="font-size: 16px; margin-right: 5px;"></i>
						{{ article.author.username }}
					</div>
					<div style="display: flex; align-items: center;">
						<i class="fas fa-calendar-alt" style="font-size: 16px; margin-right: 5px;"></i>
						{{ article.createdAt|date('d/m/Y √† H:i') }}
					</div>
				</div>
			</header>

			{% if article.imageFilename %}
				<div style="padding: 0 30px; margin-top: 30px;">
					<img src="{{ asset('uploads/' ~ article.imageFilename) }}" alt="{{ article.title }}" style="max-width: 100%; border-radius: 4px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
				</div>
			{% endif %}

			<div style="padding: 30px; line-height: 1.6; color: #333;">
				{{ article.content|nl2br }}
			</div>

			<div style="padding: 20px 30px; border-top: 1px solid #eee; display: flex; gap: 10px;">
				{% if is_granted('ROLE_ADMIN') or app.user == article.author %}
					<a href="{{ path('app_article_edit', {'id': article.id}) }}" style="background-color: #f39c12; color: white; padding: 10px 15px; border-radius: 5px; text-decoration: none; display: inline-flex; align-items: center; gap: 5px;">
						<i class="fas fa-edit"></i>
						Modifier
					</a>
					<a href="{{ path('app_article_delete', {'id': article.id}) }}" style="background-color: #e74c3c; color: white; padding: 10px 15px; border-radius: 5px; text-decoration: none; display: inline-flex; align-items: center; gap: 5px;" onclick="return confirm('√ätes-vous s√ªr de vouloir supprimer cet article ?')">
						<i class="fas fa-trash"></i>
						Supprimer
					</a>
				{% endif %}
				<a href="{{ path('app_home') }}" style="margin-left: auto; background-color: #f8f9fa; color: #333; padding: 10px 15px; border: 1px solid #ddd; border-radius: 5px; text-decoration: none; display: inline-flex; align-items: center; gap: 5px;">
					<i class="fas fa-arrow-left"></i>
					Retour √† la liste
				</a>
			</div>
		</article>
	</div>
{% endblock %}
```

## c:\wamp64\www\symfony_firstPro\test_symfony\templates\base.html.twig
```
<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>{% block title %}Welcome!{% endblock %}</title>
        <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 128 128%22><text y=%221.2em%22 font-size=%2296%22>‚ö´Ô∏è</text><text y=%221.3em%22 x=%220.2em%22 font-size=%2276%22 fill=%22%23fff%22>sf</text></svg>">
        
        {# Font Awesome 6 #}
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
        
        {% block stylesheets %}
        {% endblock %}

        {% block javascripts %}
            {% block importmap %}{{ importmap('app') }}{% endblock %}
        {% endblock %}
    </head>
    <body style="font-family: Arial, sans-serif; margin: 0; padding: 0; background-color: #f5f5f5; color: #333;">
        {% include "partials/header.html.twig" %}
        
        {% block body %}{% endblock %}
        
        <footer style="background-color: #f8f9fa; padding: 20px 0; margin-top: 50px; text-align: center; border-top: 1px solid #ddd;">
            <div style="max-width: 1200px; margin: 0 auto; padding: 0 20px;">
                <p style="margin: 0; color: #666;">¬© {% if 'now'|date('Y') > 2024 %}2024-{{ 'now'|date('Y') }}{% else %}2024{% endif %} Blog Symfony</p>
            </div>
        </footer>
    </body>
</html>
```

## c:\wamp64\www\symfony_firstPro\test_symfony\templates\partials\header.html.twig
```
<nav style="
		    background: linear-gradient(to right, #2c3e50, #3498db);
		    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
		    padding: 15px 30px;
		    position: sticky;
		    top: 0;
		    z-index: 1000;
		    border-radius: 0 0 10px 10px;
		    margin-bottom: 30px;
		">
	<div
		style="
			        max-width: 1200px;
			        margin: 0 auto;
			        display: flex;
			        justify-content: space-between;
			        align-items: center;
			    ">
		<!-- Logo y Marca -->
		<div style="display: flex; align-items: center;">
			<a href="{{ path('app_home') }}" style="
				                display: flex;
				                align-items: center;
				                text-decoration: none;
				                transition: transform 0.3s ease;
				            " onmouseover="this.style.transform='scale(1.05)'" onmouseout="this.style.transform='scale(1)'">
				<img src="{{ asset('blog.png') }}" alt="Logo" style="
					                    width: 50px;
					                    height: auto;
					                    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.2));
					                    margin-right: 15px;
					                ">
				<span style="
					                    color: white;
					                    font-size: 24px;
					                    font-weight: 700;
					                    letter-spacing: 1px;
					                    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
					                ">Namastex</span>
			</a>
		</div>

		<!-- Enlaces de Navegaci√≥n -->
		<ul style="
				            list-style-type: none;
				            display: flex;
				            gap: 5px;
				            align-items: center;
				            margin: 0;
				            padding: 0;
				        ">
			<li>
				<a href="{{ path('app_home') }}" style="
					                    text-decoration: none;
					                    color: white;
					                    font-weight: 500;
					                    padding: 10px 15px;
					                    border-radius: 6px;
					                    transition: all 0.3s ease;
					                    position: relative;
					                    display: inline-block;
					                " onmouseover="this.style.backgroundColor='rgba(255, 255, 255, 0.1)'" onmouseout="this.style.backgroundColor='transparent'">
					<i class="fas fa-home" style="margin-right: 8px;"></i>Accueil
					<span style="
						                        position: absolute;
						                        bottom: 5px;
						                        left: 50%;
						                        transform: translateX(-50%);
						                        width: 0;
						                        height: 2px;
						                        background-color: white;
						                        transition: width 0.3s ease;
						                    " onmouseover="this.style.width='80%'"></span>
				</a>
			</li>
			<li>
				<a href="{{ path('app_about') }}" style="
					                    text-decoration: none;
					                    color: white;
					                    font-weight: 500;
					                    padding: 10px 15px;
					                    border-radius: 6px;
					                    transition: all 0.3s ease;
					                    position: relative;
					                    display: inline-block;
					                " onmouseover="this.style.backgroundColor='rgba(255, 255, 255, 0.1)'" onmouseout="this.style.backgroundColor='transparent'">
					<i class="fas fa-info-circle" style="margin-right: 8px;"></i>√Ä propos
					<span style="
						                        position: absolute;
						                        bottom: 5px;
						                        left: 50%;
						                        transform: translateX(-50%);
						                        width: 0;
						                        height: 2px;
						                        background-color: white;
						                        transition: width 0.3s ease;
						                    " onmouseover="this.style.width='80%'"></span>
				</a>
			</li>
			<li>
				<a href="{{ path('app_article_new') }}" style="
					                    text-decoration: none;
					                    color: white;
					                    font-weight: 500;
					                    padding: 10px 15px;
					                    border-radius: 6px;
					                    transition: all 0.3s ease;
					                    position: relative;
					                    display: inline-block;
					                " onmouseover="this.style.backgroundColor='rgba(255, 255, 255, 0.1)'" onmouseout="this.style.backgroundColor='transparent'">
					<i class="fas fa-pen" style="margin-right: 8px;"></i>Nouveau
					<span style="
						                        position: absolute;
						                        bottom: 5px;
						                        left: 50%;
						                        transform: translateX(-50%);
						                        width: 0;
						                        height: 2px;
						                        background-color: white;
						                        transition: width 0.3s ease;
						                    " onmouseover="this.style.width='80%'"></span>
				</a>
			</li>

			{% if is_granted('ROLE_ADMIN') %}
				<li>
					<a href="{{ path('app_admin_dashboard') }}" style="
						                        text-decoration: none;
						                        color: white;
						                        font-weight: 500;
						                        padding: 10px 15px;
						                        border-radius: 6px;
						                        transition: all 0.3s ease;
						                        position: relative;
						                        display: inline-block;
						                        background-color: rgba(231, 76, 60, 0.2);
						                    " onmouseover="this.style.backgroundColor='rgba(231, 76, 60, 0.3)'" onmouseout="this.style.backgroundColor='rgba(231, 76, 60, 0.2)'">
						<i class="fas fa-shield-alt" style="margin-right: 8px;"></i>Admin
						<span style="
							                            position: absolute;
							                            bottom: 5px;
							                            left: 50%;
							                            transform: translateX(-50%);
							                            width: 0;
							                            height: 2px;
							                            background-color: white;
							                            transition: width 0.3s ease;
							                        " onmouseover="this.style.width='80%'"></span>
					</a>
				</li>
			{% endif %}
		</ul>
		<!-- Botones de Usuario -->
		<div style="display: flex; gap: 15px; align-items: center;">
			{% if app.user %}
				<div style="
						                    background-color: rgba(255, 255, 255, 0.1);
						                    padding: 5px 15px;
						                    border-radius: 20px;
						                    display: flex;
						                    align-items: center;
						                    gap: 10px;
						                ">
					<i class="fas fa-user-circle" style="color: white; font-size: 18px;"></i>
					<span style="color: white; font-weight: 500; font-size: 14px;">{{ app.user.email }}</span>
				</div>
				<a href="{{ path('app_logout') }}" style="
					                    background-color: #e74c3c;
					                    color: white;
					                    padding: 10px 18px;
					                    border-radius: 6px;
					                    text-decoration: none;
					                    font-weight: 500;
					                    display: flex;
					                    align-items: center;
					                    gap: 8px;
					                    transition: all 0.3s ease;
					                    box-shadow: 0 2px 6px rgba(231, 76, 60, 0.3);
					                " onmouseover="this.style.backgroundColor='#c0392b'; this.style.transform='translateY(-2px)'" onmouseout="this.style.backgroundColor='#e74c3c'; this.style.transform='translateY(0)'">
					<i class="fas fa-sign-out-alt"></i>
					<span>D√©connexion</span>
				</a>
			{% else %}
				<a href="{{ path('app_login') }}" style="
					                    background-color: rgba(255, 255, 255, 0.15);
					                    color: white;
					                    padding: 10px 18px;
					                    border-radius: 6px;
					                    text-decoration: none;
					                    font-weight: 500;
					                    display: flex;
					                    align-items: center;
					                    gap: 8px;
					                    transition: all 0.3s ease;
					                    border: 1px solid rgba(255, 255, 255, 0.3);
					                " onmouseover="this.style.backgroundColor='rgba(255, 255, 255, 0.25)'; this.style.transform='translateY(-2px)'" onmouseout="this.style.backgroundColor='rgba(255, 255, 255, 0.15)'; this.style.transform='translateY(0)'">
					<i class="fas fa-sign-in-alt"></i>
					<span>Connexion</span>
				</a>
				<a href="{{ path('app_register') }}" style="
					                    background-color: #2ecc71;
					                    color: white;
					                    padding: 10px 18px;
					                    border-radius: 6px;
					                    text-decoration: none;
					                    font-weight: 500;
					                    display: flex;
					                    align-items: center;
					                    gap: 8px;
					                    transition: all 0.3s ease;
					                    box-shadow: 0 2px 6px rgba(46, 204, 113, 0.3);
					                " onmouseover="this.style.backgroundColor='#27ae60'; this.style.transform='translateY(-2px)'" onmouseout="this.style.backgroundColor='#2ecc71'; this.style.transform='translateY(0)'">
					<i class="fas fa-user-plus"></i>
					<span>Inscription</span>
				</a>
			{% endif %}
		</div>
	</div>
</nav>

```

## c:\wamp64\www\symfony_firstPro\test_symfony\src\Controller\HomeController.php
```
<?php

namespace App\Controller;


use App\Entity\Article;
use App\Form\ArticleForm;
use App\Repository\ArticleRepository;
use App\Service\fileUploader;
use Doctrine\ORM\EntityManagerInterface;
use Symfony\Bundle\FrameworkBundle\Controller\AbstractController;
use Symfony\Component\DependencyInjection\Attribute\Autowire;
use Symfony\Component\HttpFoundation\File\UploadedFile;
use Symfony\Component\HttpFoundation\Request;
use Symfony\Component\HttpFoundation\Response;
use Symfony\Component\Routing\Attribute\Route;
use Symfony\Component\Security\Http\Attribute\IsGranted;

final class HomeController extends AbstractController
{

    #[Route('/', name: 'app_home')]
    #[Route('/home', name: 'app_home_legacy')]
    public function index(ArticleRepository $repo): Response
    {
        $articles = $repo->findAll();
        
        return $this->render('home/index.html.twig', [
            'controller_name' => 'HomeController',
            'articles' => $articles,
        ]);
    }
    
    #[Route('/article/{id}', name: 'app_article_show', requirements: ['id' => '\d+'])]
    public function show(Article $article): Response
    {
        return $this->render('home/show.html.twig', [
            'article' => $article,
        ]);
    }
    
    #[Route('/article/new', name: 'app_article_new')]
    #[IsGranted('ROLE_USER')]
    public function new(Request $request, EntityManagerInterface $em, fileUploader $fileUploader): Response
    {
          $user = $this->getUser();
        if (!$user) {
            $this->addFlash('error', 'Debe iniciar sesi√≥n para crear un art√≠culo.');
            return $this->redirectToRoute('app_login');
        }
        $article = new Article();
        $article->setCreatedAt(new \DateTimeImmutable());
         $article->setAuthor($user);

        $form = $this->createForm(ArticleForm::class, $article);
        $form->handleRequest($request);
        
        if ($form->isSubmitted() && $form->isValid()) {
            $imageFile = $form->get('imageFile')->getData();
            if ($imageFile) {
                $imageFileName = $fileUploader->upload($imageFile);
                $article->setImageFilename($imageFileName);
            }
           $em->persist($article);
            $em->flush();
            
            $this->addFlash('success', 'Article cr√©√© avec succ√®s !');
            return $this->redirectToRoute('app_home');
        }
        
        return $this->render('home/new.html.twig', [
            'form' => $form->createView(),
        ]);
    }
    
    #[Route('/article/edit/{id}', name: 'app_article_edit', methods: ['GET', 'POST'])]
    public function edit(Article $article, Request $request, EntityManagerInterface $em, fileUploader $fileUploader): Response
    {
        $user = $this->getUser();
        if (!$user) {
            $this->addFlash('error', 'Vous devez vous connecter pour modifier un article.');
            return $this->redirectToRoute('app_login');
        }
        if ($article->getAuthor() !== $user && !$this->isGranted('ROLE_ADMIN')) {
            $this->addFlash('error', 'Vous devez avoir le droit de modifier cet article.');
            return $this->redirectToRoute('app_home');
        }

        $form = $this->createForm(ArticleForm::class, $article);
        $form->handleRequest($request);

        if ($form->isSubmitted() && $form->isValid()) {
            $imageFile = $form->get('imageFile')->getData();
            
            if ($imageFile) {
                $imageFileName = $fileUploader->upload($imageFile);
                $article->setImageFilename($imageFileName);
            }
            $em->flush(); 

            $this->addFlash('success', 'Article modifi√© avec succ√®s !');
            return $this->redirectToRoute('app_home');
        }

        return $this->render('home/edit.html.twig', [
            'article' => $article,
            'form' => $form->createView(),
        ]);
    }
    
    #[Route('/article/delete/{id}', name: 'app_article_delete')]
    public function delete(Article $article, EntityManagerInterface $em): Response
    {
         $user = $this->getUser();
          if (!$user) {
            $this->addFlash('error', 'Debe iniciar sesi√≥n para eliminar un art√≠culo.');
            return $this->redirectToRoute('app_login');
        }
         if ($article->getAuthor() !== $user && !$this->isGranted('ROLE_ADMIN')) {
            $this->addFlash('error', 'No tiene permiso para eliminar este art√≠culo.');
            return $this->redirectToRoute('app_home');
        }
        $em->remove($article);
        $em->flush();

        $this->addFlash('success', 'Article supprim√© avec succ√®s !');
        return $this->redirectToRoute('app_home');
    }
    
    #[Route('/about', name: 'app_about')]
    public function about(): Response
    {
        return $this->render('home/about.html.twig');
    }
    #[Route('/admin', name: 'app_admin_dashboard')]
    #[IsGranted('ROLE_ADMIN')]
    public function adminDashboard(ArticleRepository $repo): Response {
        $articles = $repo->findAll();
        return $this->render('home/admin_dashboard.html.twig', [
            'articles' => $articles,
        ]);
    }
    #[Route('/my-articles', name: 'app_my_articles')]
    #[IsGranted('ROLE_USER')]
    public function myArticles(ArticleRepository $repo): Response
    {
        $user = $this->getUser();
        $articles = $repo->findBy(['author' => $user]);
        
        return $this->render('home/my_articles.html.twig', [
            'articles' => $articles,
        ]);
    }
}
```

## c:\wamp64\www\symfony_firstPro\test_symfony\src\Controller\UserAdminController.php
```
<?php
namespace App\Controller;

use App\Entity\User;
use App\Repository\UserRepository;
use Doctrine\ORM\EntityManagerInterface;
use Symfony\Bundle\FrameworkBundle\Controller\AbstractController;
use Symfony\Component\HttpFoundation\Request;
use Symfony\Component\HttpFoundation\Response;
use Symfony\Component\Routing\Attribute\Route;
use Symfony\Component\Security\Http\Attribute\IsGranted;

#[Route('/admin/users')]
#[IsGranted('ROLE_SUPER_ADMIN')]
class UserAdminController extends AbstractController
{
    #[Route('/', name: 'app_admin_users_index')]
    public function index(UserRepository $userRepository): Response
    {
        return $this->render('user_admin/index.html.twig', [
            'users' => $userRepository->findAll(),
        ]);
    }

    #[Route('/{id}/toggle-admin', name: 'app_admin_users_toggle_admin')]
    public function toggleAdmin(User $user, EntityManagerInterface $entityManager): Response
    {
        // No permitir que un usuario se cambie sus propios roles
        if ($user === $this->getUser()) {
            $this->addFlash('error', 'No puede cambiar sus propios roles.');
            return $this->redirectToRoute('app_admin_users_index');
        }

        if ($user->hasRole('ROLE_ADMIN')) {
            $user->setRoles(array_diff($user->getRoles(), ['ROLE_ADMIN']));
            $message = 'Rol de administrador eliminado.';
        } else {
            $user->addRole('ROLE_ADMIN');
            $message = 'Rol de administrador a√±adido.';
        }

        $entityManager->flush();
        $this->addFlash('success', $message);

        return $this->redirectToRoute('app_admin_users_index');
    }

    #[Route('/{id}/toggle-super-admin', name: 'app_admin_users_toggle_super_admin')]
    public function toggleSuperAdmin(User $user, EntityManagerInterface $entityManager): Response
    {
        // No permitir que un usuario se cambie sus propios roles
        if ($user === $this->getUser()) {
            $this->addFlash('error', 'No puede cambiar sus propios roles.');
            return $this->redirectToRoute('app_admin_users_index');
        }

        if ($user->hasRole('ROLE_SUPER_ADMIN')) {
            $user->setRoles(array_diff($user->getRoles(), ['ROLE_SUPER_ADMIN']));
            $message = 'Rol de super administrador eliminado.';
        } else {
            $user->addRole('ROLE_SUPER_ADMIN');
            $message = 'Rol de super administrador a√±adido.';
        }

        $entityManager->flush();
        $this->addFlash('success', $message);

        return $this->redirectToRoute('app_admin_users_index');
    }
}
```

## c:\wamp64\www\symfony_firstPro\test_symfony\.env
```
# In all environments, the following files are loaded if they exist,
# the latter taking precedence over the former:
#
#  * .env                contains default values for the environment variables needed by the app
#  * .env.local          uncommitted file with local overrides
#  * .env.$APP_ENV       committed environment-specific defaults
#  * .env.$APP_ENV.local uncommitted environment-specific overrides
#
# Real environment variables win over .env files.
#
# DO NOT DEFINE PRODUCTION SECRETS IN THIS FILE NOR IN ANY OTHER COMMITTED FILES.
# https://symfony.com/doc/current/configuration/secrets.html
#
# Run "composer dump-env prod" to compile .env files for production use (requires symfony/flex >=1.2).
# https://symfony.com/doc/current/best_practices.html#use-environment-variables-for-infrastructure-configuration

###> symfony/framework-bundle ###
APP_ENV=dev
APP_SECRET=
###< symfony/framework-bundle ###

###> doctrine/doctrine-bundle ###
# Format described at https://www.doctrine-project.org/projects/doctrine-dbal/en/latest/reference/configuration.html#connecting-using-a-url
# IMPORTANT: You MUST configure your server version, either here or in config/packages/doctrine.yaml
#
# DATABASE_URL="sqlite:///%kernel.project_dir%/var/data_%kernel.environment%.db"
# DATABASE_URL="mysql://app:!ChangeMe!@127.0.0.1:3306/app?serverVersion=8.0.32&charset=utf8mb4"
# DATABASE_URL="mysql://app:!ChangeMe!@127.0.0.1:3306/app?serverVersion=10.11.2-MariaDB&charset=utf8mb4"
DATABASE_URL="mysql://root:@127.0.0.1:3306/symfony_BlogPro?serverVersion=8.0.32&charset=utf8mb4"
###< doctrine/doctrine-bundle ###

###> symfony/messenger ###
# Choose one of the transports below
# MESSENGER_TRANSPORT_DSN=amqp://guest:guest@localhost:5672/%2f/messages
# MESSENGER_TRANSPORT_DSN=redis://localhost:6379/messages
MESSENGER_TRANSPORT_DSN=doctrine://default?auto_setup=0
###< symfony/messenger ###

###> symfony/mailer ###
MAILER_DSN=null://null
###< symfony/mailer ###

```

## c:\wamp64\www\symfony_firstPro\test_symfony\templates\user_admin\index.html.twig
```
{% extends 'base.html.twig' %}

{% block title %}Administraci√≥n de Usuarios{% endblock %}

{% block body %}
<div style="max-width: 1200px; margin: 0 auto; padding: 0 20px;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
        <h1 style="margin: 0; font-size: 32px; color: #333;">Administraci√≥n de Usuarios</h1>
        <a href="{{ path('app_admin_dashboard') }}" style="background-color: #3498db; color: white; padding: 10px 15px; border-radius: 5px; text-decoration: none; display: inline-flex; align-items: center; gap: 5px;">
            <i class="fas fa-arrow-left"></i>
            Volver al panel
        </a>
    </div>

    {% for label, messages in app.flashes %}
        {% for message in messages %}
            <div style="background-color: {% if label == 'success' %}#DFF2BF; color: #4F8A10{% elseif label == 'error' %}#FFECEC; color: #C83025{% else %}#BDE5F8; color: #00529B{% endif %}; padding: 15px; margin-bottom: 20px; border-radius: 5px; border-left: 5px solid {% if label == 'success' %}#4F8A10{% elseif label == 'error' %}#C83025{% else %}#00529B{% endif %};">
                {{ message }}
            </div>
        {% endfor %}
    {% endfor %}

    <div style="background-color: white; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); overflow: hidden;">
        <div style="padding: 20px; border-bottom: 1px solid #eee;">
            <h2 style="margin: 0; font-size: 18px;">Lista de Usuarios</h2>
        </div>
        <div style="overflow-x: auto;">
            <table style="width: 100%; border-collapse: collapse;">
                <thead>
                    <tr style="background-color: #f8f9fa;">
                        <th style="padding: 12px 15px; text-align: left; border-bottom: 1px solid #ddd;">ID</th>
                        <th style="padding: 12px 15px; text-align: left; border-bottom: 1px solid #ddd;">Usuario</th>
                        <th style="padding: 12px 15px; text-align: left; border-bottom: 1px solid #ddd;">Email</th>
                        <th style="padding: 12px 15px; text-align: left; border-bottom: 1px solid #ddd;">Roles</th>
                        <th style="padding: 12px 15px; text-align: center; border-bottom: 1px solid #ddd;">Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    {% for user in users %}
                        <tr>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #ddd;">{{ user.id }}</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #ddd;">{{ user.username }}</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #ddd;">{{ user.email }}</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #ddd;">
                                {% for role in user.roles %}
                                    <span style="display: inline-block; padding: 3px 8px; margin-right: 5px; border-radius: 4px; font-size: 12px; background-color: {% if role == 'ROLE_SUPER_ADMIN' %}#e74c3c{% elseif role == 'ROLE_ADMIN' %}#f39c12{% else %}#3498db{% endif %}; color: white;">
                                        {{ role|replace({'ROLE_': ''}) }}
                                    </span>
                                {% endfor %}
                            </td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #ddd; text-align: center;">
                                {% if user != app.user %}
                                    <div style="display: flex; justify-content: center; gap: 10px;">
                                        <a href="{{ path('app_admin_users_toggle_admin', {'id': user.id}) }}" style="display: inline-block; padding: 5px 10px; border-radius: 4px; text-decoration: none; background-color: {% if 'ROLE_ADMIN' in user.roles %}#e74c3c{% else %}#f39c12{% endif %}; color: white; font-size: 13px;">
                                            {% if 'ROLE_ADMIN' in user.roles %}
                                                <i class="fas fa-user-minus"></i> Quitar Admin
                                            {% else %}
                                                <i class="fas fa-user-plus"></i> Hacer Admin
                                            {% endif %}
                                        </a>
                                        <a href="{{ path('app_admin_users_toggle_super_admin', {'id': user.id}) }}" style="display: inline-block; padding: 5px 10px; border-radius: 4px; text-decoration: none; background-color: {% if 'ROLE_SUPER_ADMIN' in user.roles %}#e74c3c{% else %}#8e44ad{% endif %}; color: white; font-size: 13px;">
                                            {% if 'ROLE_SUPER_ADMIN' in user.roles %}
                                                <i class="fas fa-user-minus"></i> Quitar Super Admin
                                            {% else %}
                                                <i class="fas fa-user-plus"></i> Hacer Super Admin
                                            {% endif %}
                                        </a>
                                    </div>
                                {% else %}
                                    <span style="color: #777; font-style: italic;">Usuario actual</span>
                                {% endif %}
                            </td>
                        </tr>
                    {% else %}
                        <tr>
                            <td colspan="5" style="padding: 20px; text-align: center; color: #666;">No se encontraron usuarios.</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}
```

## c:\wamp64\www\symfony_firstPro\test_symfony\templates\home\admin_dashboard.html.twig
```
{% extends 'base.html.twig' %}

{% block title %}Panel de Administraci√≥n{% endblock %}

{% block body %}
<div style="max-width: 1200px; margin: 0 auto; padding: 0 20px;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
        <h1 style="margin: 0; font-size: 32px; color: #333;">Panel de Administraci√≥n</h1>
        <div style="display: flex; gap: 10px;">
            <a href="{{ path('app_home') }}" style="background-color: #3498db; color: white; padding: 10px 15px; border-radius: 5px; text-decoration: none; display: inline-flex; align-items: center; gap: 5px;">
                <i class="fas fa-home"></i>
                Volver al Inicio
            </a>
            {% if is_granted('ROLE_SUPER_ADMIN') %}
                <a href="{{ path('app_admin_users_index') }}" style="background-color: #8e44ad; color: white; padding: 10px 15px; border-radius: 5px; text-decoration: none; display: inline-flex; align-items: center; gap: 5px;">
                    <i class="fas fa-users-cog"></i>
                    Gestionar Usuarios
                </a>
            {% endif %}
        </div>
    </div>

    {% for label, messages in app.flashes %}
        {% for message in messages %}
            <div style="background-color: {% if label == 'success' %}#DFF2BF; color: #4F8A10{% elseif label == 'error' %}#FFECEC; color: #C83025{% else %}#BDE5F8; color: #00529B{% endif %}; padding: 15px; margin-bottom: 20px; border-radius: 5px; border-left: 5px solid {% if label == 'success' %}#4F8A10{% elseif label == 'error' %}#C83025{% else %}#00529B{% endif %};">
                {{ message }}
            </div>
        {% endfor %}
    {% endfor %}

    <!-- Secci√≥n de Estad√≠sticas -->
    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px; margin-bottom: 30px;">
        <div style="background-color: white; padding: 20px; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); border-left: 4px solid #3498db;">
            <h3 style="margin-top: 0; margin-bottom: 10px; color: #3498db;">Total de Art√≠culos</h3>
            <p style="font-size: 24px; font-weight: bold; margin: 0;">{{ articles|length }}</p>
        </div>
    </div>

    <!-- Lista de todos los art√≠culos -->
    <div style="background-color: white; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); overflow: hidden; margin-bottom: 30px;">
        <div style="padding: 20px; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center;">
            <h2 style="margin: 0; font-size: 18px;">Todos los Art√≠culos</h2>
            <a href="{{ path('app_article_new') }}" style="background-color: #4CAF50; color: white; padding: 8px 12px; border-radius: 4px; text-decoration: none; font-size: 14px;">
                <i class="fas fa-plus"></i> Nuevo Art√≠culo
            </a>
        </div>
        <div style="overflow-x: auto;">
            <table style="width: 100%; border-collapse: collapse;">
                <thead>
                    <tr style="background-color: #f8f9fa;">
                        <th style="padding: 12px 15px; text-align: left; border-bottom: 1px solid #ddd;">ID</th>
                        <th style="padding: 12px 15px; text-align: left; border-bottom: 1px solid #ddd;">T√≠tulo</th>
                        <th style="padding: 12px 15px; text-align: left; border-bottom: 1px solid #ddd;">Autor</th>
                        <th style="padding: 12px 15px; text-align: left; border-bottom: 1px solid #ddd;">Fecha</th>
                        <th style="padding: 12px 15px; text-align: center; border-bottom: 1px solid #ddd;">Acciones</th>
                    </tr>
                </thead>
                <tbody>
                    {% for article in articles %}
                        <tr>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #ddd;">{{ article.id }}</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #ddd;">{{ article.title }}</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #ddd;">{{ article.author.username }}</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #ddd;">{{ article.createdAt|date('d/m/Y H:i') }}</td>
                            <td style="padding: 12px 15px; border-bottom: 1px solid #ddd; text-align: center;">
                                <div style="display: flex; justify-content: center; gap: 10px;">
                                    <a href="{{ path('app_article_show', {'id': article.id}) }}" style="color: #3498db; text-decoration: none;">
                                        <i class="fas fa-eye"></i>
                                    </a>
                                    <a href="{{ path('app_article_edit', {'id': article.id}) }}" style="color: #f39c12; text-decoration: none;">
                                        <i class="fas fa-edit"></i>
                                    </a>
                                    <a href="{{ path('app_article_delete', {'id': article.id}) }}" style="color: #e74c3c; text-decoration: none;" onclick="return confirm('¬øEst√° seguro de que desea eliminar este art√≠culo?')">
                                        <i class="fas fa-trash"></i>
                                    </a>
                                </div>
                            </td>
                        </tr>
                    {% else %}
                        <tr>
                            <td colspan="5" style="padding: 20px; text-align: center; color: #666;">No se encontraron art√≠culos.</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}
```

## c:\wamp64\www\symfony_firstPro\test_symfony\templates\home\my_articles.html.twig
```
{% extends 'base.html.twig' %}

{% block title %}Mis Art√≠culos{% endblock %}

{% block body %}
<div style="max-width: 1200px; margin: 0 auto; padding: 0 20px;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
        <h1 style="margin: 0; font-size: 32px; color: #333;">Mis Art√≠culos</h1>
        <a href="{{ path('app_article_new') }}" style="background-color: #4CAF50; color: white; padding: 10px 15px; border-radius: 5px; text-decoration: none; display: inline-flex; align-items: center; gap: 5px;">
            <i class="fas fa-plus"></i>
            Crear un nuevo art√≠culo
        </a>
    </div>

    {% for label, messages in app.flashes %}
        {% for message in messages %}
            <div style="background-color: {% if label == 'success' %}#DFF2BF; color: #4F8A10{% elseif label == 'error' %}#FFECEC; color: #C83025{% else %}#BDE5F8; color: #00529B{% endif %}; padding: 15px; margin-bottom: 20px; border-radius: 5px; border-left: 5px solid {% if label == 'success' %}#4F8A10{% elseif label == 'error' %}#C83025{% else %}#00529B{% endif %};">
                {{ message }}
            </div>
        {% endfor %}
    {% endfor %}

    {% if articles is empty %}
        <div style="background-color: #BDE5F8; color: #00529B; padding: 15px; margin-bottom: 20px; border-radius: 5px; border-left: 5px solid #00529B;">
            A√∫n no has creado ning√∫n art√≠culo.
        </div>
    {% else %}
        <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 30px;">
            {% for article in articles %}
                <div style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden; box-shadow: 0 4px 6px rgba(0,0,0,0.1); transition: transform 0.3s ease; background-color: white;">
                    <div style="padding: 20px;">
                        <h2 style="font-size: 22px; margin-top: 0; margin-bottom: 10px;">{{ article.title }}</h2>
                        <p style="color: #666; font-size: 14px; margin-bottom: 15px;">
                            Creado el
                            {{ article.createdAt|date('d/m/Y √† H:i') }}
                        </p>
                        {% if article.imageFilename %}
                            <div style="height: 200px; overflow: hidden; margin-bottom: 15px;">
                                <img src="{{ asset('uploads/' ~ article.imageFilename) }}" alt="{{ article.title }}" style="width: 100%; height: 100%; object-fit: cover; border-radius: 4px 4px 0 0;">
                            </div>
                        {% endif %}
                        <p style="margin-bottom: 20px; line-height: 1.5;">
                            {% if article.content|length > 100 %}
                                {{ article.content|slice(0, 100) }}...
                            {% else %}
                                {{ article.content }}
                            {% endif %}
                        </p>
                    </div>
                    <div style="display: flex; justify-content: space-between; padding: 15px 20px; border-top: 1px solid #eee;">
                        <a href="{{ path('app_article_show', {'id': article.id}) }}" style="color: #3498db; text-decoration: none; font-weight: 500;">
                            Leer
                        </a>
                        <div style="display: flex; gap: 10px;">
                            <a href="{{ path('app_article_edit', {'id': article.id}) }}" style="color: #f39c12; text-decoration: none;">
                                <i class="fas fa-edit"></i>
                                Modificar
                            </a>
                            <a href="{{ path('app_article_delete', {'id': article.id}) }}" style="color: #e74c3c; text-decoration: none;" onclick="return confirm('¬øEst√°s seguro de que deseas eliminar este art√≠culo?')">
                                <i class="fas fa-trash"></i>
                                Eliminar
                            </a>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% endif %}
</div>
{% endblock %}
```

## c:\wamp64\www\symfony_firstPro\test_symfony\config\packages\knp_paginator.yaml
```
knp_paginator:
    page_range: 5                      # N√∫mero de p√°ginas mostradas en el paginador
    default_options:
        page_name: page                # Nombre del par√°metro de consulta para la p√°gina
        sort_field_name: sort          # Nombre del par√°metro de consulta para ordenar
        sort_direction_name: direction # Nombre del par√°metro para la direcci√≥n de ordenamiento
        distinct: true                 # Asegura resultados distintos
    template:
        pagination: '@KnpPaginator/Pagination/bootstrap_v5_pagination.html.twig'     # Template para la paginaci√≥n
        sortable: '@KnpPaginator/Pagination/sortable_link.html.twig' # Template para enlaces ordenables
```

## c:\wamp64\www\symfony_firstPro\test_symfony\src\Service\fileUploader.php
```
<?php

namespace App\Service;

use Symfony\Component\DependencyInjection\ParameterBag\ParameterBagInterface;
use Symfony\Component\HttpFoundation\File\Exception\FileException;
use Symfony\Component\HttpFoundation\File\UploadedFile;
use Symfony\Component\String\Slugger\SluggerInterface;

class fileUploader
{
    private string $targetDirectory;
    
    public function __construct(
        ParameterBagInterface $params,
        private SluggerInterface $slugger
    ) {
        $this->targetDirectory = $params->get('upload_dir');
    }

    public function upload(UploadedFile $file): string
    {
        $originalFilename = pathinfo($file->getClientOriginalName(), PATHINFO_FILENAME);
        $safeFilename = $this->slugger->slug($originalFilename);
        $fileName = $safeFilename.'-'.uniqid().'.'.$file->guessExtension();

        try {
            $file->move($this->getTargetDirectory(), $fileName);
        } catch (FileException $e) {
            throw new FileException('Error al subir el archivo: '.$e->getMessage());
        }

        return $fileName;
    }

    public function getTargetDirectory(): string
    {
        return $this->targetDirectory;
    }
}
```

## c:\wamp64\www\symfony_firstPro\test_symfony\src\Entity\Article.php
```
<?php

namespace App\Entity;

use App\Repository\ArticleRepository;
use Doctrine\ORM\Mapping as ORM;

#[ORM\Entity(repositoryClass: ArticleRepository::class)]
class Article
{
    #[ORM\Id]
    #[ORM\GeneratedValue]
    #[ORM\Column]
    private ?int $id = null;

    #[ORM\Column(length: 255, nullable: true)]
    private ?string $content = null;

    #[ORM\Column(length: 255, nullable: true)]
    private ?string $title = null;

    #[ORM\Column(type: 'string', length: 255, nullable: true)]
    private ?string $imageFilename = null;

    #[ORM\Column]
    private ?\DateTimeImmutable $createdAt = null;

    #[ORM\ManyToOne(targetEntity: User::class, inversedBy: 'articles')]
    #[ORM\JoinColumn(nullable: false)]
    private ?User $author = null;
    public function getId(): ?int
    {
        return $this->id;
    }

    public function getContent(): ?string
    {
        return $this->content;
    }

    public function setContent(?string $content): static
    {
        $this->content = $content;

        return $this;
    }

    public function getTitle(): ?string
    {
        return $this->title;
    }

    public function setTitle(?string $title): static
    {
        $this->title = $title;

        return $this;
    }

    public function getCreatedAt(): ?\DateTimeImmutable
    {
        return $this->createdAt;
    }

    public function setCreatedAt(\DateTimeImmutable $createdAt): static
    {
        $this->createdAt = $createdAt;

        return $this;
    }
    public function getImageFilename(): ?string
{
    return $this->imageFilename;
}

public function setImageFilename(?string $imageFilename): self
{
    $this->imageFilename = $imageFilename;
    return $this;
}
public function getAuthor(): ?User
    {
        return $this->author;
    }

    public function setAuthor(?User $author): self
    {
        $this->author = $author;
        return $this;
    }

    public function isAuthor(User $user): bool
    {
        return $this->author === $user;
    }
}

```

## c:\wamp64\www\symfony_firstPro\test_symfony\config\services.yaml
```
# This file is the entry point to configure your own services.
# Files in the packages/ subdirectory configure your dependencies.

# Put parameters here that don't need to change on each machine where the app is deployed
# https://symfony.com/doc/current/best_practices.html#use-parameters-for-application-configuration
parameters:
    upload_dir: '%kernel.project_dir%/public/uploads'

services:
    # default configuration for services in *this* file
    _defaults:
        autowire: true      # Automatically injects dependencies in your services.
        autoconfigure: true # Automatically registers your services as commands, event subscribers, etc.

    # makes classes in src/ available to be used as services
    # this creates a service per class whose id is the fully-qualified class name
    App\:
        resource: '../src/'
        exclude:
            - '../src/DependencyInjection/'
            - '../src/Entity/'
            - '../src/Kernel.php'

    # add more service definitions when explicit configuration is needed
    # please note that last definitions always *replace* previous ones

```

## c:\wamp64\www\symfony_firstPro\test_symfony\templates\home\edit.html.twig
```
{% extends "base.html.twig" %}
{% block title %}Modifier -
	{{ article.title }}
{% endblock %}

{% block body %}
	<div style="max-width: 800px; margin: 0 auto; padding: 20px;">
		<nav style="margin-bottom: 20px;">
			<div style="display: flex; gap: 5px; font-size: 14px;">
				<a href="{{ path('app_home') }}" style="color: #3498db; text-decoration: none;">Accueil</a>
				<span style="color: #777;">/</span>
				<a href="{{ path('app_article_show', {'id': article.id}) }}" style="color: #3498db; text-decoration: none;">{{ article.title }}</a>
				<span style="color: #777;">/</span>
				<span style="color: #333; font-weight: bold;">Modifier</span>
			</div>
		</nav>

		<div style="border: 1px solid #ddd; border-radius: 4px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
			<div style="background-color: #3498db; color: white; padding: 15px; border-top-left-radius: 4px; border-top-right-radius: 4px;">
				<h1 style="margin: 0; font-size: 22px;">Modifier l'article</h1>
			</div>
			<div style="padding: 20px;">
				{{ form_start(form, {'attr': {'class': 'needs-validation'}}) }}
				<div style="margin-bottom: 20px;">
					{{ form_label(form.title, 'Titre', {'label_attr': {'style': 'display: block; margin-bottom: 8px; font-weight: bold;'}}) }}
					{{ form_widget(form.title, {
                        'attr': {
                            'style': 'width: 100%; padding: 10px; border: 2px solid #3498db; border-radius: 4px; font-size: 16px;',
                            'placeholder': 'Saisissez le titre de l\'article'
                        }
                    }) }}
                    {{ form_errors(form.title) }}
                </div>
                
                <div style="margin-bottom: 20px;">
                    {{ form_label(form.content, 'Contenu', {'label_attr': {'style': 'display: block; margin-bottom: 8px; font-weight: bold;'}}) }}
                    {{ form_widget(form.content, {
                        'attr': {
                            'style': 'width: 100%; padding: 10px; border: 2px solid #3498db; border-radius: 4px; min-height: 200px; font-size: 16px;',
                            'rows': 10,
                            'placeholder': '√âcrivez votre article ici...'
                        }
                    }) }}
                    {{ form_errors(form.content) }}
                </div>
                <div style="margin-bottom: 20px;">
    {{ form_label(form.imageFile, 'Image', {'label_attr': {'style': 'display: block; margin-bottom: 8px; font-weight: bold;'}}) }}
    
    {% if article.imageFileName %}
        <div style="margin-bottom: 10px;">
            <img src="{{ asset('uploads/' ~ article.imageFilename) }}" alt="Image actuelle" style="max-width: 200px; max-height: 200px; border: 1px solid #ddd; border-radius: 4px;">
            <p style="margin-top: 5px; font-size: 14px; color: #666;">Image actuelle</p>
        </div>
    {% endif %}
    
    {{ form_widget(form.imageFile, {
        'attr': {
            'style': 'width: 100%; padding: 10px; border: 2px solid #3498db; border-radius: 4px; font-size: 16px;',
        }
    }) }}
    <small style="display: block; margin-top: 5px; color: #666;">Formats support√©s: JPEG, PNG, GIF (max 2MB). Laissez vide pour conserver l'image actuelle.</small>
    {{ form_errors(form.imageFile) }}
				</div>

				<div style="display: flex; gap: 10px;">
					<button type="submit" style="background-color: #3498db; color: white; padding: 10px 15px; border: none; border-radius: 4px; cursor: pointer; font-weight: bold;">
						<i class="fas fa-save"></i>
						Enregistrer les modifications
					</button>
					<a href="{{ path('app_article_show', {'id': article.id}) }}" style="background-color: #f8f9fa; color: #333; padding: 10px 15px; border: 1px solid #ddd; border-radius: 4px; text-decoration: none;">Annuler</a>
				</div>
				{{ form_end(form) }}
			</div>
		</div>
	</div>
{% endblock %}

```

## c:\wamp64\www\symfony_firstPro\test_symfony\templates\home\new.html.twig
```
{% extends "base.html.twig" %}
{% block title %}Cr√©er un nouvel article
{% endblock %}

{% block body %}
	<div style="max-width: 800px; margin: 0 auto; padding: 20px;">
		<nav style="margin-bottom: 20px;">
			<div style="display: flex; gap: 5px; font-size: 14px;">
				<a href="{{ path('app_home') }}" style="color: #3498db; text-decoration: none;">Accueil</a>
				<span style="color: #777;">/</span>
				<span style="color: #333; font-weight: bold;">Cr√©er un article</span>
			</div>
		</nav>

		<div style="border: 1px solid #ddd; border-radius: 4px; box-shadow: 0 2px 4px rgba(0,0,0,0.1);">
			<div style="background-color: #3498db; color: white; padding: 15px; border-top-left-radius: 4px; border-top-right-radius: 4px;">
				<h1 style="margin: 0; font-size: 22px;">Cr√©er un nouvel article</h1>
			</div>
			<div style="padding: 20px;">
				{{ form_start(form, {'attr': {'class': 'needs-validation'}}) }}
				<div style="margin-bottom: 20px;">
					{{ form_label(form.title, 'Titre', {'label_attr': {'style': 'display: block; margin-bottom: 8px; font-weight: bold;'}}) }}
					{{ form_widget(form.title, {
                        'attr': {
                            'style': 'width: 100%; padding: 10px; border: 2px solid #3498db; border-radius: 4px; font-size: 16px;',
                            'placeholder': 'Saisissez le titre de l\'article'
                        }
                    }) }}
                    {{ form_errors(form.title) }}
                </div>
                
                <div style="margin-bottom: 20px;">
                    {{ form_label(form.content, 'Contenu', {'label_attr': {'style': 'display: block; margin-bottom: 8px; font-weight: bold;'}}) }}
                    {{ form_widget(form.content, {
                        'attr': {
                            'style': 'width: 100%; padding: 10px; border: 2px solid #3498db; border-radius: 4px; min-height: 200px; font-size: 16px;',
                            'rows': 10,
                            'placeholder': '√âcrivez votre article ici...'
                        }
                    }) }}
                    {{ form_errors(form.content) }}
                </div>
               <div style="margin-bottom: 20px;">
    {{ form_label(form.imageFile, 'Image', {'label_attr': {'style': 'display: block; margin-bottom: 8px; font-weight: bold;'}}) }}
    {{ form_widget(form.imageFile, {
        'attr': {
            'style': 'width: 100%; padding: 10px; border: 2px solid #3498db; border-radius: 4px; font-size: 16px;',
        }
    }) }}
    <small style="display: block; margin-top: 5px; color: #666;">Formats support√©s: JPEG, PNG, GIF (max 2MB)</small>
    {{ form_errors(form.imageFile) }}
</div>
                <div style="display: flex; gap: 10px;">
                    <button type="submit" style="background-color: #3498db; color: white; padding: 10px 15px; border: none; border-radius: 4px; cursor: pointer; font-weight: bold;">
                        <i class="fas fa-save"></i> Enregistrer l'article
                    </button>
                    <a href="{{ path('app_home') }}" style="background-color: #f8f9fa; color: #333; padding: 10px 15px; border: 1px solid #ddd; border-radius: 4px; text-decoration: none;">Annuler</a>
                </div>
            {{ form_end(form) }}
				</div>
			</div>
		</div>
	{% endblock %}

```

## c:\wamp64\www\symfony_firstPro\test_symfony\src\Repository\ArticleRepository.php
```
<?php

namespace App\Repository;

use App\Entity\Article;
use Doctrine\Bundle\DoctrineBundle\Repository\ServiceEntityRepository;
use Doctrine\Persistence\ManagerRegistry;

/**
 * @extends ServiceEntityRepository<Article>
 */
class ArticleRepository extends ServiceEntityRepository
{
    public function __construct(ManagerRegistry $registry)
    {
        parent::__construct($registry, Article::class);
    }

    //    /**
    //     * @return Article[] Returns an array of Article objects
    //     */
    //    public function findByExampleField($value): array
    //    {
    //        return $this->createQueryBuilder('a')
    //            ->andWhere('a.exampleField = :val')
    //            ->setParameter('val', $value)
    //            ->orderBy('a.id', 'ASC')
    //            ->setMaxResults(10)
    //            ->getQuery()
    //            ->getResult()
    //        ;
    //    }

    //    public function findOneBySomeField($value): ?Article
    //    {
    //        return $this->createQueryBuilder('a')
    //            ->andWhere('a.exampleField = :val')
    //            ->setParameter('val', $value)
    //            ->getQuery()
    //            ->getOneOrNullResult()
    //        ;
    //    }
}

```

## c:\wamp64\www\symfony_firstPro\test_symfony\vendor\symfony\ux-turbo\assets\package.json
```
{
    "name": "@symfony/ux-turbo",
    "description": "Hotwire Turbo integration for Symfony",
    "license": "MIT",
    "version": "2.24.0",
    "keywords": [
        "symfony-ux",
        "turbo",
        "hotwire",
        "javascript",
        "turbo-stream",
        "mercure"
    ],
    "homepage": "https://ux.symfony.com/turbo",
    "repository": "https://github.com/symfony/ux-turbo",
    "type": "module",
    "files": [
        "dist"
    ],
    "main": "dist/turbo_controller.js",
    "types": "dist/turbo_controller.d.ts",
    "scripts": {
        "build": "node ../../../bin/build_package.js .",
        "watch": "node ../../../bin/build_package.js . --watch",
        "test": "../../../bin/test_package.sh .",
        "check": "biome check",
        "ci": "biome ci"
    },
    "symfony": {
        "controllers": {
            "turbo-core": {
                "main": "dist/turbo_controller.js",
                "webpackMode": "eager",
                "fetch": "eager",
                "enabled": true
            },
            "mercure-turbo-stream": {
                "main": "dist/turbo_stream_controller.js",
                "fetch": "eager",
                "enabled": false
            }
        },
        "importmap": {
            "@hotwired/turbo": "^7.1.0 || ^8.0",
            "@hotwired/stimulus": "^3.0.0"
        }
    },
    "peerDependencies": {
        "@hotwired/stimulus": "^3.0.0",
        "@hotwired/turbo": "^7.1.1 || ^8.0"
    },
    "devDependencies": {
        "@hotwired/stimulus": "^3.0.0",
        "@hotwired/turbo": "^7.1.0 || ^8.0",
        "@types/hotwired__turbo": "^8.0.4"
    }
}

```

## c:\wamp64\www\symfony_firstPro\test_symfony\vendor\symfony\stimulus-bundle\assets\package.json
```
{
    "name": "@symfony/stimulus-bundle",
    "description": "Integration of @hotwired/stimulus into Symfony",
    "private": true,
    "license": "MIT",
    "version": "2.24.0",
    "keywords": [
        "symfony-ux"
    ],
    "homepage": "https://ux.symfony.com/stimulus",
    "repository": "https://github.com/symfony/stimulus-bundle",
    "type": "module",
    "files": [
        "dist"
    ],
    "main": "dist/loader.js",
    "scripts": {
        "build": "node ../../../bin/build_package.js .",
        "watch": "node ../../../bin/build_package.js . --watch",
        "test": "../../../bin/test_package.sh .",
        "check": "biome check",
        "ci": "biome ci"
    },
    "symfony": {
        "needsPackageAsADependency": false,
        "importmap": {
            "@hotwired/stimulus": "^3.0.0",
            "@symfony/stimulus-bundle": "path:%PACKAGE%/dist/loader.js"
        }
    },
    "peerDependencies": {
        "@hotwired/stimulus": "^3.0.0",
        "@symfony/stimulus-bridge": "^3.2.0 || ^4.0.0"
    }
}

```

